Другим предназначением сетевого узла является пересылка пакетов между узлами. Узел может отправить пакет на следующие адреса:

- Самому себе. Узел может отправить эхо-запрос на специальный IPv4-адрес, который представлен как 127.0.0.1 и называется интерфейсом loopback. Отправка эхо-запроса на интерфейс loopback тестирует стек протокола TCP/IP на узле.

- Локальный узел. Узел в той же локальной сети, в которой также находится отправляющий узел. Узлы используют один и тот же сетевой адрес.

- Удаленный узел. Узел в удаленной сети. Узлы не используют один и тот же сетевой адрес.

Какому узлу адресован пакет — локальному или удаленному — определяется комбинацией IPv4-адреса и маски подсети устройства источника (или отправляющего устройства), которые сравниваются с IPv4-адресом и маской подсети устройства назначения.

В домашней или корпоративной сети могут находиться несколько проводных и беспроводных устройств, соединенных друг с другом с помощью промежуточного устройства, такого как коммутатор локальной сети (LAN) и (или) точка беспроводного доступа (WAP). Это промежуточное устройство обеспечивает соединение между локальными узлами в локальной сети. Локальные узлы могут получать доступ друг к другу и обмениваться информацией без использования каких-либо дополнительных устройств. Если узел отправляет пакет устройству, которое настроено в этой же IP-сети в качестве главного устройства, пакет просто пересылается из интерфейса узла через промежуточное устройство прямо на устройство назначения.

Разумеется, в большинстве случаев нам требуется, чтобы наши устройства могли устанавливать соединения за пределами сегмента локальной сети: подключаться к другим домам, офисам и Интернету. Устройства, которые не входят в сегмент локальной сети, называются удаленными узлами. Если исходное устройство отправляет пакет к удаленному устройству назначения, то в этом случае требуется помощь маршрутизаторов и выполнение маршрутизации. Маршрутизация — это процесс определения наилучшего пути к узлу назначения. Маршрутизатор, подключенный к сегменту локальной сети, называется шлюзом по умолчанию.

Шлюз по умолчанию — это сетевое устройство, которое направляет трафик в другие сети. Это маршрутизатор, который может направлять трафик за пределы локальной сети.

Если в качестве аналогии сети использовать комнату, шлюзом по умолчанию будет входная дверь. Чтобы попасть в другую комнату или сеть, нужно найти входную дверь.

В качестве альтернативы, ПК или компьютер, которому не известен IP-адрес шлюза по умолчанию, подобен человеку в комнате, который не знает, где находится дверь. Этот человек может разговаривать с другими людьми в комнате или в сети, но если он не знает адрес шлюза по умолчанию или если шлюза по умолчанию вообще не существует, то он не может выйти из комнаты.

Таблица маршрутизации узла, как правило, содержит шлюз по умолчанию. Узел получает IPv4-адрес шлюза по умолчанию или динамически от протокола динамической настройки узла (DHCP) или из вручную настроенных параметров. Маршрут по умолчанию — маршрут или путь, по которому идет компьютер, когда он пытается связаться с удаленной сетью. Маршрут по умолчанию определяется в зависимости от конфигурации шлюза по умолчанию и помещается в таблицу маршрутизации главного компьютера.

На узле под управлением ОС Windows для отображения таблицы маршрутизации узла можно использовать команду route print или netstat -r. Обе команды выдают одинаковый результат. Сначала полученные выходные данные могут показаться слишком обширными, однако разобраться в них довольно легко.

После ввода команды netstat -r или равноценной ей команды route print будут отображены следующие три раздела, относящиеся к текущим сетевым подключениям TCP/IP:

- Список интерфейса. Содержит адрес управления доступом к среде (MAC-адрес) и присвоенный номер интерфейса с поддержкой сети на узле, включая адаптеры Ethernet, Wi-Fi и Bluetooth.

- Таблица маршрутизации IPv4. Содержит все известные маршруты IPv4, включая прямые подключения, локальные сети и локальные маршруты, используемые по умолчанию.

- Таблица маршрутизации IPv6. Содержит все известные маршруты IPv6, включая прямые подключения, локальные сети и локальные маршруты, используемые по умолчанию.