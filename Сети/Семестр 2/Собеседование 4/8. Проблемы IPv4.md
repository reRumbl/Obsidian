На протяжении многих лет протокол IPv4 периодически обновлялся для решения новых задач. Тем не менее даже в результате изменений IPv4 по-прежнему имеет три основных недостатка.

- Нехватка IP-адресов. IPv4 может предложить лишь ограниченное количество уникальных публичных IP-адресов. Несмотря на то что существует примерно 4 миллиарда IPv4-адресов, возросшее число новых устройств, в которых используется протокол IP, а также потенциальный рост менее развитых регионов привели к необходимости дополнительного увеличения количества адресов.

- Расширение таблицы интернет-маршрутизации. Таблица маршрутизации используется маршрутизаторами для определения оптимальных путей пересылки данных. По мере увеличения количества серверов (узлов), подключенных к Интернету, также растет число сетевых маршрутов. Эти маршруты IPv4 потребляют значительное количество памяти и ресурсов процессоров интернет-маршрутизаторов.

- Нехватка сквозных соединений. Преобразование сетевых адресов (NAT) представляет собой технологию, которая обычно применяется в сетях IPv4. NAT позволяет различным устройствам совместно использовать один публичный IPv4-адрес. При этом, поскольку публичный IPv4-адрес используется совместно, IPv4-адрес узла внутренней сети скрыт. Это может представлять проблему при использовании технологий, для которых необходимы сквозные соединения.

Протокол IPv6 был разработан как преемник протокола IPv4. IPv6 имеет большее 128-битное адресное пространство, что достаточно для 340 ундециллионов адресов. (Это число 340, за которым следует 36 нулей.) Однако протокол IPv6 — это не только большее число адресов. Когда специалисты IETF начали разработку преемника IPv4, они использовали эту возможность для устранения ограничений протокола IPv4 и внесения дополнительных улучшений. Среди таких улучшений — протокол управляющих сообщений версии 6 (ICMPv6), который включает в себя разрешение адресов и автонастройку адресов, что отсутствовало в протоколе ICMP для IPv4 (ICMPv4). Протоколы ICMPv4 и ICMPv6 будут рассмотрены далее в этой главе.

**Потребность в IPv6**

Сокращение адресного пространства протокола IPv4 — основной стимулирующий фактор для перехода к использованию IPv6. По мере того как Африка, Азия и другие регионы планеты все больше нуждаются в подключении к сети Интернет, остается все меньше IPv4-адресов, чтобы соответствовать таким темпам развития. Как показано на рисунке, у четырех из пяти региональных интернет-регистраторов (RIR) не осталось свободных IPv4-адресов.

Теоретическое максимальное количество IPv4-адресов — 4,3 миллиарда. Частные адреса вместе с механизмом преобразования сетевых адресов (NAT) позволяли какое-то время замедлить процесс истощения адресного пространства IPv4. Однако, механизм преобразования сетевых адресов (NAT) имеет определенные ограничения, которые ухудшают коммуникации в одноранговой сети.

Всеобъемлющий Интернет. Современный Интернет существенно отличается от Интернета последних десятилетий. Сегодня это не просто электронная почта, веб-страницы и передача файлов между компьютерами. По мере развития Интернет становится Интернетом вещей. Скоро можно будет получить доступ к Интернету не только через компьютеры, планшеты и смартфоны. Завтра практически все устройства — от автомобилей и биомедицинского оборудования до бытовой техники и природной экосистемы буду оснащены сенсорами и подключены к Интернету.

В связи с распространением Интернета ограниченным адресным пространством IPv4, проблемами с преобразованием сетевых адресов и проникновением Интернета в нашу жизнь пришло время для перехода на протокол IPv6.