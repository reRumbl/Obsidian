Маршрутизатор имеет доступ к энергозависимой или энергонезависимой памяти. Энергозависимой памяти для сохранения данных требуется постоянное питание. При выключении электропитания маршрутизатора или при его перезапуске содержимое этой памяти теряется. Энергонезависимая память сохраняет данные даже при перезагрузке устройства.

В связи с этим в маршрутизаторе Cisco используется четыре типа памяти:

- ОЗУ. Это энергонезависимая память используется в маршрутизаторах Cisco для хранения приложений, процессов и данных, необходимых для их обработки центральным процессором. Маршрутизаторы Cisco используют быстрый тип ОЗУ, называемый синхронным динамическим ОЗУ (SDRAM). Нажмите изображение ОЗУ на рисунке, чтобы посмотреть дополнительную информацию.

- ПЗУ. Эта энергонезависимая память используется для хранения важных инструкций по эксплуатации и ограниченной версии IOS. Таким образом, ПЗУ — это встроенная в микросхему микропрограмма внутри маршрутизатора, которая может быть изменена только компанией Cisco. Нажмите изображение ПЗУ на рисунке, чтобы посмотреть дополнительную информацию.

- NVRAM. Эта энергонезависимая память используется как место постоянного хранения файла загрузочной конфигурации (startup-config).

- Флеш. Это энергонезависимая память компьютера, использующаяся в качестве места постоянного хранения IOS и других системных файлов, таких как файлы журналов, файлы голосовой конфигурации, HTML файлы, конфигурации резервного копирования и многое другое. При перезагрузке маршрутизатора IOS копируется из флеш-памяти в ОЗУ.

Все платформы маршрутизатора имеют параметры и компоненты по умолчанию. Например, маршрутизаторы Cisco 1941 поставляются вместе с памятью SDRAM объемом 512 МБ, которая может быть расширена до 2,0 ГБ. Маршрутизаторы Cisco 1941 также поставляются вместе с флеш-памятью объемом 256 МБ, которая может быть расширена с помощью двух внешних слотов Compact Flash. Каждый слот поддерживает высокоскоростные карты памяти емкостью до 4 ГБ.

Процесс загрузки состоит из трех основных этапов:

1. Выполнение процедуры POST (самотестирование после включения питания) и загрузка программы начального запуска. Во время самотестирования маршрутизатор из ПЗУ выполняет диагностические процедуры на нескольких компонентах аппаратного обеспечения, включая использование ЦП, ОЗУ и NVRAM. После завершения процедуры POST маршрутизатор запускает программу начального запуска. Основная цель программа начального запуска — найти операционную систему Cisco IOS и загрузить ее в ОЗУ.

2. Поиск и загрузка программного обеспечения Cisco IOS. Как правило, система IOS хранится во флеш-памяти и копируется в ОЗУ для выполнения центральным процессором. Если образ IOS во флеш-памяти не обнаружен, маршрутизатор может попытаться найти его с помощью сервера TFTP. Если полный образ IOS не обнаружен, тогда в ОЗУ из ПЗУ будет скопирована ее сокращенная версия. Эта версия IOS предназначена для диагностики проблем и может быть использована для загрузки полной версии IOS во флеш-память.

3. Поиск и загрузка файла загрузочной конфигурации или переход в режим настройки. Затем программа начального запуска копирует файл загрузочной конфигурации из памяти NVRAM в ОЗУ. Эта конфигурация становится текущей. Если файл загрузочной конфигурации отсутствует в памяти NVRAM, маршрутизатор может попытаться найти сервер упрощенного протокола передачи файлов (TFTP). Если сервер TFTP не будет найден, маршрутизатор отобразит окно режима настройки.

![[Процесс загрузки маршрутизатора.png]]