**DataFrame** - [[Классы|класс]] в [[Pandas|Pandas]] для работы с данными, по своей сути является таблицей с данными.

## Импорт данных.

**Преобразование CSV в DataFrame:**

Иногда при загрузке данных формата **CSV** нужно указывать их кодировку. Это — первое, что стоит попробовать сделать в том случае, если оказывается, что после загрузки данных **DataFrame** содержит нечитаемые символы.

```Python
anime = pd.read_csv('anime-recommendations-database/anime.csv')
rating = pd.read_csv('anime-recommendations-database/rating.csv', encoding='utf-8')
```

**Создание DataFrame из данных, введённых вручную:**

Это может пригодиться тогда, когда нужно вручную ввести в программу простые данные. Например — если нужно оценить изменения, претерпеваемые данными, проходящими через конвейер обработки данных.

```Python
df = pd.DataFrame([[1,'Bob', 'Builder'],
				   [2,'Sally','Baker'],
				   [3,'Scott', 'Candle Stick Maker']],
				   columns=['id','name', 'occupation']
)
```

**Копирование DataFrame:**

Копирование **DataFrame** может пригодиться в ситуациях, когда требуется внести в данные изменения, но при этом надо и сохранить оригинал. Если **DataFrame** нужно копировать, то рекомендуется делать это сразу после их загрузки.

```Python
anime_copy = anime.copy(deep=True)
```

## Экспорт данных.

**Экспорт в формат CSV:**

При экспорте данных они сохраняются в той же папке, где находится скрипт. Ниже показан пример сохранения первых 10 строк **DataFrame**, но то, что именно сохранять, зависит от конкретной задачи.

```Python
rating[:10].to_csv('saved_ratings.csv', index=False)
```

**Экспорт в формат Excel:**

```Python
anime[:50].to_excel('saved_anime.xlsx', index=False)
```

## Просмотр и исследование данных.

**Получение n записей из начала или конца DataFrame:**

Это позволяет удобно обращаться к этим данным в том случае, если забыл о том, что именно находится в **DataFrame**. Похожую роль играет и вывод нескольких последних элементов.

```Python
anime.head(3)  # Голова (Начало)
rating.tail(1)  # Хвост (Конец)
```

**Подсчёт количества строк в DataFrame:**

Функция len(), не входит в состав [[Pandas|Pandas]]. Но она хорошо подходит для подсчёта количества строк **DataFrame**. Результаты её работы можно сохранить в переменной и воспользоваться ими там, где они нужны.  

```Python
len(anime)
```

**Подсчёт количества уникальных значений в столбце:**

```Python
len(ratings['user_id'].unique())
```

**Получение сведений о DataFrame:**

В сведения о **DataFrame** входит общая информация о нём вроде заголовка, количества значений, типов данных столбцов. Есть ещё одна функция, похожая на info() — dtypes(). Она лишь выводит сведения о типах данных столбцов.

```Python
anime.info()
ratings.dtypes()
```

**Вывод статистических сведений о DataFrame:**

Знание статистических сведений о **DataFrame** весьма полезно в ситуациях, когда он содержит множество числовых значений. Например, знание среднего, минимального и максимального значений столбца rating даёт нам некоторое понимание того, как, в целом, выглядит **DataFrame**.

```Python
anime.describe()
```

**Подсчёт количества значений:**

```Python
anime.type.value_counts()
```

## Извлечение информации из DataFrame.

**Создание списка или объекта Series на основе значений столбца:**

Это может пригодиться в тех случаях, когда требуется извлекать значения столбцов в переменные **x** и **y** для обучения модели. Здесь применимы следующие команды:  
  

```Python
anime['genre'].tolist()
anime['genre']
```

**Получение списка значений из индекса:**
  
```Python
anime_modified = anime.set_index('name')
anime_modified.index.tolist()
```

**Получение списка значений столбцов:**
  
```Python
anime.columns.tolist()
```

## Слияние DataFrame

Слияние **DataFrame** происходит одним из нескольких возможных вариантов.

**Варианты слияния:**

- **Concat** — объединяет данные в единое целое, указывая направление объединения с помощью параметра axis: 0 — по строкам, 1 — по столбцам.

- **Join** — объединяет **DataFrame** по индексам.

- **Merge** — объединяет **DataFrame** по наборам столбцов.
