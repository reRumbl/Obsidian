Dockerfile - специальный файл, позволяющий определить инструкции создания [[Docker|Docker]] образа. Инструкции, при сборке образа, обрабатываются сверху вниз.

**Пример Dockerfile:**

```Dockerfile
FROM ubuntu:18.04
COPY . /app
```

## Основные инструкции Dockerfile

Слои в итоговом образе создают только инструкции `FROM`, `RUN`, `COPY`, и `ADD`. Другие инструкции что-то настраивают, описывают метаданные, или сообщают [[Docker|Docker]] о том, что во время выполнения контейнера нужно что-то сделать, например — открыть какой-то порт или выполнить какую-то команду.

**Основные инструкции:**

1. `FROM` — задаёт базовый (родительский) образ.

2. `LABEL` — описывает метаданные. Например — сведения о том, кто создал и поддерживает образ.

3. `ENV` — устанавливает постоянные переменные среды.

4. `RUN` — выполняет команду и создаёт слой образа. Используется для установки в контейнер пакетов.

5. `COPY` — копирует в контейнер файлы и папки.

6. `ADD` — копирует файлы и папки в контейнер, может распаковывать локальные .tar-файлы.

7. `CMD` — описывает команду с аргументами, которую нужно выполнить когда контейнер будет запущен. Аргументы могут быть переопределены при запуске контейнера. В файле может присутствовать лишь одна инструкция `CMD`.

8. `WORKDIR` — задаёт рабочую директорию для следующей инструкции.

9. `ARG` — задаёт переменные для передачи Docker во время сборки образа.

10. `ENTRYPOINT` — предоставляет команду с аргументами для вызова во время выполнения контейнера. Аргументы не переопределяются.

11. `EXPOSE` — указывает на необходимость открыть порт.

12. `VOLUME` — создаёт точку монтирования для работы с постоянным хранилищем.